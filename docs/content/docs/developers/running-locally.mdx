---
title: 开发环境设置
description: 为贡献者和本地开发提供的设置说明
---

# 开发环境设置

本指南将帮助您设置 Onlook 的本地开发环境。这包括一个 Next.js 应用、一个 Supabase 后端，以及使用 Codesandbox 运行开发容器的能力。

> [!NOTE]
> 注意：本指南适用于 Onlook 的开发和贡献。如需在生产环境中部署 Onlook，请参阅[自托管](/self-hosting)。

## 前置条件

以下是设置 Onlook 开发环境的先决条件。

- [Bun](https://bun.sh) - 支持运行 monorepo
- [Docker](https://docs.docker.com/get-started/get-docker/) - 支持运行 Supabase 后端
- [Node](https://nodejs.org/en/download/) – 最低版本 `v20.16.0` 或最新版本

## 配置

### 1. 克隆代码库

```bash
   git clone https://github.com/onlook-dev/onlook.git
   cd onlook
   bun install
   ```

### 2. 运行后端

请确保您已按照上述说明运行 Docker。

```bash
   bun backend:start
   ```

从输出中获取 `anon key` 和 `service role key`。我们将在环境设置步骤中使用这些密钥。

### 3. 获取 API 密钥

#### a. 获取 Codesandbox API 密钥

1. 前往 [Codesandbox 仪表板](https://codesandbox.io/dashboard)
2. 点击左侧菜单中的设置，您的工作区设置应该会打开
3. 导航到 "API" 选项卡
4. 点击 "Create API Token" 并生成一个 API 令牌
5. 复制令牌并保存，用于环境设置步骤

注意：我们计划在找到最佳 API 集成方案后，未来支持使用 Docker Desktop 运行开发容器。

#### b. 获取 OpenRouter API 密钥

从 OpenRouter 申请 API 密钥。这用于与您的项目进行聊天。https://openrouter.ai/settings/keys

#### c. 获取 Fast Apply API 密钥

对于应用 AI 代码，目前最先进的方法是使用快速应用模型来解决代码变更。Fast Apply 提供商有两个选项：

- [MorphLLM](https://morphllm.com/dashboard)
    - [Relace](https://app.relace.ai/settings/api-keys)

您只需获取其中一个密钥，并在后续步骤中设置到环境变量中。

### 4. 设置环境变量

运行交互式环境设置脚本：

```bash
bun run setup:env
```

注意：如果您更倾向于手动设置环境变量，请参阅[附录](/developers/appendix)中的说明。

### 5. 初始化数据库

设置数据库架构。每次数据库架构有变更时，您都需要运行此命令。

注意：如果提示需要交互（例如选择选项），请进入 `packages/db` 目录并运行 `bun run db:push` 以使用交互模式。

```bash
   bun db:push
   ```

### 6. 用测试数据填充数据库

用测试数据填充数据库。这将创建测试用户和项目。

```bash
   bun db:seed
   ```

### 7. 运行开发服务器

```bash
   bun dev
   ```

前往 [http://localhost:3000](http://localhost:3000) 查看运行中的应用。您已准备好进行开发！

## 下一步是什么？

现在您已在本地运行 Onlook，请探索以下资源以进行首次贡献或了解更多关于架构的信息。了解 Onlook 的工作原理将帮助您更有效地为这个基于 React 和 TailwindCSS 的可视化编辑器做出贡献。

<Cards>
  <Card title="Learn about Architecture" href="/developers/architecture" />
  <Card title="How to Contribute" href="/developers" />
  <Card title="Troubleshooting" href="/developers/troubleshooting" />
</Cards>